creator: Admin
default_result_value: ''
description: >
  Create a case by invoking a Torq workflow via Webhook (header "secret").
  Sends the current alert payload and optional deduplication/correlation keys.
  If Torq API credentials (or a Bearer override) are provided, polls the
  Torq Public API for the final execution output.
dynamic_results_metadata:
  - result_example_path: resources/CreateCase_JsonResult_example.json
    result_name: JsonResult
    show_result: true
integration_identifier: Torq
name: Create Case in Torq
parameters:
  - name: Torq URL
    description: Torq webhook URL (e.g., https://hooks.torq.io/v1/webhooks/<id>/workflows/<workflow_id>)
    type: string
    is_mandatory: true
    default_value: ''
  - name: Webhook Secret
    description: Value for the 'secret' header expected by the Torq webhook
    type: string
    is_mandatory: true
    default_value: ''
  - name: Region
    description: Torq region ("US" or "EU") for Public API polling
    type: string
    is_mandatory: true
    default_value: US
  - name: Client ID
    description: Torq API key client_id (optional; used to mint Bearer for polling)
    type: string
    is_mandatory: false
    default_value: ''
  - name: Client Secret
    description: Torq API key client_secret (optional; used to mint Bearer for polling)
    type: string
    is_mandatory: false
    default_value: ''
  - name: Bearer Token
    description: Optional override Bearer token for polling (skips token mint)
    type: string
    is_mandatory: false
    default_value: ''
  - name: Deduplication Key
    description: Optional idempotency key for case creation
    type: string
    is_mandatory: false
    default_value: ''
  - name: Correlation Key
    description: Optional correlation key for grouping cases/incidents
    type: string
    is_mandatory: false
    default_value: ''
  - name: Poll Max Seconds
    description: Maximum seconds to poll the execution
    type: number
    is_mandatory: false
    default_value: 60
  - name: Poll Interval Seconds
    description: Seconds between poll requests
    type: number
    is_mandatory: false
    default_value: 3
  - name: Environment
    description: Optional environment label to send in the request context
    type: string
    is_mandatory: false
    default_value: Default Environment
  - name: Alert JSON
    description: Stringified JSON of the current alert payload (platform-provided)
    type: string
    is_mandatory: false
    default_value: ''
script_result_name: ScriptResult