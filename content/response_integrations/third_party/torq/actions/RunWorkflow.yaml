creator: Admin
default_result_value: ''
description: >
  Generic Torq workflow runner. Posts to the Torq webhook with a JSON
  'workflow_input' object and optional inclusion of the current alert payload.
  If Torq API credentials (or a Bearer override) are provided, polls the
  Torq Public API for final execution output.
dynamic_results_metadata:
  - result_example_path: resources/RunWorkflow_JsonResult_example.json
    result_name: JsonResult
    show_result: true
integration_identifier: Torq
name: Run Workflow
parameters:
  - name: Torq URL
    description: Torq webhook URL (e.g., https://hooks.torq.io/v1/webhooks/<id>/workflows/<workflow_id>)
    type: string
    is_mandatory: true
    default_value: ''
  - name: Webhook Secret
    description: Value for the 'secret' header expected by the Torq webhook
    type: string
    is_mandatory: true
    default_value: ''
  - name: Region
    description: Torq region ("US" or "EU") for Public API polling
    type: string
    is_mandatory: true
    default_value: US
  - name: Client ID
    description: Torq API key client_id (optional; used to mint Bearer for polling)
    type: string
    is_mandatory: false
    default_value: ''
  - name: Client Secret
    description: Torq API key client_secret (optional; used to mint Bearer for polling)
    type: string
    is_mandatory: false
    default_value: ''
  - name: Bearer Token
    description: Optional override Bearer token for polling (skips token mint)
    type: string
    is_mandatory: false
    default_value: ''
  - name: workflow_input
    description: JSON object to pass into the Torq workflow (stringified JSON)
    type: string
    is_mandatory: true
    default_value: '{}'
  - name: Include Alert Payload
    description: If true, include the current alert payload under 'alert'
    type: boolean
    is_mandatory: false
    default_value: false
  - name: Poll Max Seconds
    description: Maximum seconds to poll the execution
    type: number
    is_mandatory: false
    default_value: 60
  - name: Poll Interval Seconds
    description: Seconds between poll requests
    type: number
    is_mandatory: false
    default_value: 3
  - name: Environment
    description: Optional environment label to send in the request context
    type: string
    is_mandatory: false
    default_value: Default Environment
  - name: Alert JSON
    description: Stringified JSON of the current alert payload (platform-provided; used when Include Alert Payload = true)
    type: string
    is_mandatory: false
    default_value: ''
script_result_name: ScriptResult